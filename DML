REM 새로운 데이터 추가하기
-- INSERT INTO 테이블 VALUES
-- 날짜형과 문자형은 반드시 홑따옴표를 사용해야한다. 반면, 숫자형은 홑따옴표를 사용하지않는다.
-- 순서를 고민해야 한다.
-- LITERAL의 사이즈를 고민하자.
-- NULL을 고민해야 한다.

INSERT INTO DEPT
VALUES(50, 'DEVELOPMENT', 'SEOUL');

INSERT INTO DEPT(LOC, DEPTNO, DNAME) -- 테이블의 기본 순서를 다르게 하려면
VALUES('BUSAN', 60, 'DESIGN');

INSERT INTO DEPT(DEPTNO, DNAME, LOC)
VALUES(80, 'JAVA'); -- 값의 수가 퉁분하지 않습니다.라는 에러 발생

-- NULL을 암시적으로 처리하는 방법
INSERT INTO DEPT(DEPTNO, DNAME) -- LOC빼버리기
VALUES(80, 'JAVA');

-- NULL 명시적
INSERT INTO DEPT(DEPTNO, DNAME, LOC)
VALUES(80, 'JAVA', NULL); -- NULL입력


-- DML / INSERT

CREATE TABLE EMP_COPY
AS
SELECT * FROM EMP; -- 14 ROWS, 8 COLUMNS

INSERT INTO EMP_COPY(EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO)
VALUES (8001, 'CHULSU', NULL, 7369, SYSDATE, NULL, NULL, NULL); 
-- 순서 주의, 데이터 타입 주의, LITERAL의 타입(문자/날짜/숫자) 주의, 데이터의 크기 주의

INSERT INTO EMP_COPY (EMPNO, ENAME, JOB, SAL)
VALUES (8002, 'YOUNGHEE', 'DESIGNER', 1500);

DROP TABLE EMP_COPY; -- TABLE 삭제

CREATE TABLE EMP_COPY
AS SELECT * FROM EMP WHERE 1 != 1; -- 형식만 가져오고 데이터는 가져오지 않기. 조건에 거짓 조건 넣기 0>1 같은 조건들

INSERT INTO EMP_COPY (EMPNO, ENAME, SAL, COMM, DEPTNO)
VALUES (1111, 'CHULSU', 800, 100, 40);

INSERT INTO EMP_COPY(EMPNO, ENAME, JOB, HIREDATE)
VALUES (2222, 'HANJIMIN', 'DEVELOPER', SYSDATE);

INSERT INTO EMP_COPY (EMPNO, ENAME, JOB, HIREDATE)
VALUES ('3333', 'YOUNGHEE', 'MARKETTER', SYSDATE); -- EMPNO 자동 형변환

SELECT LENGTH(ENAME), LENGTHB('안녕')
FROM EMP_COPY;

-- NULL 처리
INSERT INTO EMP_COPY(EMPNO, ENAME, JOB, HIREDATE)
VALUES (4444, 'HOJUNE', 'MARKETTER', SYSDATE); -- 나머지 4개의 열은 자동으로 NULL처리

INSERT INTO EMP_COPY (EMPNO, ENAME, JOB, HIREDATE)
VALUES (5555, UPPER('GIRLSDAY'), NULL, NULL);

INSERT INTO EMP_COPY(EMPNO, ENAME, HIREDATE)
VALUES(6666, 'BTS', TO_DATE('01022019', 'DD-MM-YYYY'));

INSERT INTO EMP_COPY(EMPNO, ENAME, HIREDATE)
VALUES(6666, 'BTS', TO_DATE('01022019', 'DDMMYYYY'));

INSERT INTO EMP (EMPNO, ENAME, DEPTNO)
VALUES(8888, 'JIMIN', 77); -- 부모 키가 없다. 77은 없는 부서라 못들어간다.

INSERT INTO EMP_COPY (EMPNO, ENAME, DEPTNO)
VALUES(8888, 'JIMIN', 77) -- 테이블 복사하면 제약조건은 복사되지 않는다. EMP_COPY는 77부서 가능

DROP TABLE EMP_COPY;

CREATE TABLE EMP_COPY
AS
SELECT *
FROM EMP
WHERE 0>3;

SELECT * FROM EMP_COPY;

-- UPDATE
-- UPDATE SET WHERE

-- 조건을 사용해서 일부만 수정하기
UPDATE EMP_COPY -- 어떤 테이블을 수정할 것인가
SET ENAME = 'JIMIN' -- 어떤 컬럼을 수정할 것인가
WHERE EMPNO=3333; -- 어떤 로우를 수정할 것인가

-- 전체 수정
UPDATE EMP_COPY
SET DEPTNO = 10;

UPDATE EMP_COPY
SET JOB = 'DESIGNER'
WHERE EMPNO=2222

UPDATE EMP_COPY
SET JOB = 'MARKETTER'
WHERE ENAME = 'JIMIN';

UPDATE EMP_COPY
SET SAL = 1000
WHERE EMPNO<3000;

UPDATE EMP_COPY
SET SAL =2000
WHERE ENAME = 'JIMIN';

-- 일부 열을 수정하기
UPDATE EMP_COPY
SET JOB = 'DESIGNER', MGR = 1111, SAL = 3000, DEPTNO = 20
WHERE EMPNO = 4444

-- 무결성 제약 조건 오류
UPDATE EMP
SET DEPTNO = 70
WHERE ENAME = 'SMITH';

UPDATE EMP_COPY
SET MGR =2222, SAL=1500, COMM = 100
WHERE empno = 5555

-- DELETE
DELETE FROM EMP_COPY; -- 테이블 안에 데이터 모두 삭제하기
ROLLBACK; -- 되돌리기

DELETE FROM EMP_COPY
-- WHERE EMPNO <= 3000;
WHERE ENAME = 'JIMIN';


SELECT * FROM EMP_COPY;
